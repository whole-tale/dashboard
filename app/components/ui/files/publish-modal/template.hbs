<div name="publisher" class="small publisher" >

<div class="main header">
    <h2>Publish Tale
        <span>Create an immutable copy of your Tale with a DOI <i class="info circle blue icon main"></i></span>
    </h2>
</div>
<hr>
{{#ui-accordion as |execute|}}

{{!-- Accordion menu that lists tale files which can be (de)selected by the user --}}
<div class="title">
    <h2>
        <i class="far fa-hdd"></i> Data
        <span>
            Select the files fully needed to reproduce your work
            <i class="dropdown icon"></i>
        </span>
    </h2>
   
</div>

<div class="content">
    <div class="ui basic segment">
        <div class="ui list">
            <div class="item">
                <i class="folder icon"></i>
                <div class="content">
                    <div class="header">Home Directory</div>
                    <div class="description">Files stored in your home directory</div>
                    <div class="list">
                        {{#each fileList as |file|}}
                        <div class="item">
                            <div class ="ui checked checkbox">
                                <input type="checkbox" checked="">
                                <label>
                                    <i class="file icon"></i>
                                    <div class="content">
                                        {{file.name}}
                                    </div>
                                </label>
                            </div>
                        </div>
                        {{/each}}
                    </div>
                </div>
            </div>
        <div class="item">
            <i class="folder icon"></i>
            <div class="content">
                <div class="header">Registered Data</div>
                <div class="description">Data registered from external sources</div>
                <div class="list">
                    <div class="item">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>

<hr>
{{!-- Accordion menu that lists the files which cannot be removed by the user --}}
<div class="title">
    <h2>
        <i class="desktop icon"></i>Environment
        <span>
            Everything required to recreate chosen compute environment - view only 
            <i class="dropdown icon"></i>
        </span>
    </h2>
</div>

<div class="content environment">
    <div class="ui basic segment">
        <div class="ui list">
            <div class="item">
                <i class="environment folder icon"></i>
                <div class="content">
                    <div class="environment name header">{{taleName}}</div>
                    <div class="list">
                        {{#each nonOptionalFile as |file|}}
                            <div class="item">
                                <label>
                                    <div class="content">
                                        <i class="file icon"></i>
                                        {{file}} <i class="info circle blue icon {{file}}"></i> 
                                    </div>
                                </label>
                            </div>
                        {{/each}}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<hr>
{{!-- Accordion menu that lets the user select a license --}}
<div class="title">
    <h2>
        <i class="creative commons icon"></i>Usage Rights
        <span>
            Choose how you wish your Tale to be stored and reused
            <i class="dropdown icon"></i>
        </span>
    </h2>

</div>

<div class="content">
    <div class="ui form">
        <div class="grouped fields">
            <div class="field">
                <div class="ui radio checkbox cc0" id='0'>
                    <input type="radio" name="license-radio" checked="checked">
                    <label><img class="ui small image left floated" src="https://d15omoko64skxi.cloudfront.net/wp-content/uploads/2014/01/cc-zero.png">
                     Creative Commons Public Domain <b>CCO</b> <i class="info circle blue icon cc0"></i></label> 
                </div>
            </div>
            <div class="field">
                <div class="ui radio checkbox ccby3" id='1'>
                    <input type="radio" name="license-radio">
                    <label>
                        <img class="ui small image left floated" src="https://upload.wikimedia.org/wikipedia/commons/1/16/CC-BY_icon.svg">
                        Creative Commons Attribution <b>CC-BY 3.0</b> <i class="info circle blue icon ccby3" ></i>
                    </label> 
                </div>
            </div>
            <div class="field">
                <div class="ui radio checkbox ccby4" id='2'>
                    <input type="radio" name="license-radio">
                    <label>
                        <img class="ui small image left floated" src="https://upload.wikimedia.org/wikipedia/commons/1/16/CC-BY_icon.svg">
                        Creative Commons Attribution <b>CC-BY 4.0</b> <i class="info circle blue icon ccby4" ></i> 
                    </label>
                </div>
            </div>
        </div>
    </div>
</div>

{{/ui-accordion}}
<hr>
<div class="actions">
    {{!-- Dropdown where the user can select which member node to put the package in --}}
    {{#ui-dropdown class="search selection dropdown" allowAdditions=false selected=selectedRepository onChange=(action 'onNodeChange')
    as |execute mapper|}}
    <div class="default text">Target Repository</div>
    <i class="dropdown icon"></i>
    <div class="menu">
        <div data-value="" class="item">Development</div>
        {{#each types as |type|}}
        <div data-value="{{map-value mapper type}}" class="item">
            {{type}}
        </div>
        {{/each}}
    </div>
    {{/ui-dropdown}}
    
    {{!-- Button that is shown when the user can publish the tale --}}
    {{#if enablePublish}}
    <div class="ui positive blue enabled right labeled icon button" {{action "publishedClicked"}}>
        Publish Tale
    </div>
    {{else if publishing}}
    {{!-- Button that has a loader on top --}}
        <div class="ui positive blue disabled loading right labeled icon button">
            Publishing
        </div>
    {{else}}
    {{!-- Button that is shown after publishing completes --}}
        <div class="ui positive green right labeled icon button">
            View Package
        </div>
    {{/if}}
    <div class="ui deny blue inverted button" {{action "cancelPublish"}}>
        Cancel
        <i class="icon register"></i>
    </div>
</div>
</div>